<section id="contacto" class="py-16 max-w-7xl mx-auto">
    <div class="container mx-auto px-4">
        <!-- Encabezado de la secci√≥n -->
        <div class="text-center mb-12">
            <h2
                class="text-4xl md:text-5xl lg:text-6xl font-bold text-amber-500 mb-4"
            >
                Vis√≠tanos
            </h2>
            <p class="text-lg md:text-xl text-slate-300 max-w-2xl mx-auto">
                Estamos ubicados en Bogot√°, cerca a la Universidad Minuto de
                Dios
            </p>
            <div
                class="mt-4 flex items-center justify-center gap-2 text-amber-600"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-5 w-5"
                    viewBox="0 0 20 20"
                    fill="currentColor"
                >
                    <path
                        fill-rule="evenodd"
                        d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"
                        clip-rule="evenodd"></path>
                </svg>
                <span class="font-medium">Alaska Licorer√≠a</span>
            </div>
        </div>

        <div class="flex flex-col lg:flex-row gap-8 items-center">
            <!-- Mapa -->
            <div class="w-full lg:w-1/2">
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7952.805322591318!2d-74.09660515848608!3d4.699902444295711!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e3f9b0062775d73%3A0x6d9fd60ccd2b3830!2sALASKA%20LICORERIA!5e0!3m2!1sen!2sco!4v1766974656364!5m2!1sen!2sco"
                    class="w-full h-100 lg:h-125 rounded-lg shadow-lg border border-gray-300 mx-auto"
                    allowfullscreen=""
                    loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade"
                    title="Ubicaci√≥n Alaska Licorer√≠a"
                >
                </iframe>
            </div>

            <!-- Formulario de Contacto -->
            <div class="w-full lg:w-1/2">
                <div
                    class="bg-gradient-to-br from-slate-900 to-slate-800 rounded-lg shadow-lg p-8 hover:shadow-2xl hover:shadow-amber-500/20 transition-all duration-300 hover:-translate-y-2 hover:border-amber-500/50"
                >
                    <h3 class="text-3xl font-bold text-white mb-6">
                        Cont√°ctanos
                    </h3>

                    <!-- Mensaje de √©xito -->
                    <div
                        id="success-message"
                        class="hidden mb-6 p-4 bg-green-500/20 border border-green-500 rounded-lg text-green-400 text-center"
                    >
                        ‚úÖ ¬°Mensaje enviado exitosamente! Te responderemos
                        pronto üç∫
                    </div>

                    <!-- Mensaje de error -->
                    <div
                        id="error-message"
                        class="hidden mb-6 p-4 bg-red-500/20 border border-red-500 rounded-lg text-red-400 text-center"
                    >
                        ‚ùå Hubo un error. Por favor intenta nuevamente.
                    </div>

                    <form class="space-y-6" id="contactForm">
                        <input
                            type="hidden"
                            name="access_key"
                            value="ec988d65-e0d5-47ce-8063-376a3e2712ad"
                        />

                        <!-- Nombre -->
                        <div>
                            <label
                                for="nombre"
                                class="block text-sm font-medium text-gray-300 mb-2"
                            >
                                Nombre completo
                            </label>
                            <input
                                type="text"
                                id="nombre"
                                name="nombre"
                                required
                                class="w-full px-4 py-3 rounded-lg border border-gray-600 bg-slate-700 text-white focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition placeholder-gray-400"
                                placeholder="Tu nombre"
                            />
                        </div>

                        <!-- Email -->
                        <div>
                            <label
                                for="email"
                                class="block text-sm font-medium text-gray-300 mb-2"
                            >
                                Correo electr√≥nico
                            </label>
                            <input
                                type="email"
                                id="email"
                                name="email"
                                required
                                class="w-full px-4 py-3 rounded-lg border border-gray-600 bg-slate-700 text-white focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition placeholder-gray-400"
                                placeholder="tu@email.com"
                            />
                        </div>

                        <!-- Tel√©fono -->
                        <div>
                            <label
                                for="telefono"
                                class="block text-sm font-medium text-gray-300 mb-2"
                            >
                                Tel√©fono
                            </label>
                            <input
                                type="tel"
                                id="telefono"
                                name="telefono"
                                class="w-full px-4 py-3 rounded-lg border border-gray-600 bg-slate-700 text-white focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition placeholder-gray-400"
                                placeholder="+57 300 123 4567"
                            />
                        </div>

                        <!-- Mensaje -->
                        <div>
                            <label
                                for="mensaje"
                                class="block text-sm font-medium text-gray-300 mb-2"
                            >
                                Mensaje
                            </label>
                            <textarea
                                id="mensaje"
                                name="mensaje"
                                rows="4"
                                required
                                class="w-full px-4 py-3 rounded-lg border border-gray-600 bg-slate-700 text-white focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition resize-none placeholder-gray-400"
                                placeholder="Cu√©ntanos c√≥mo podemos ayudarte..."
                            ></textarea>
                        </div>

                        <!-- Bot√≥n de env√≠o -->
                        <button
                            class="w-full bg-orange-600 hover:bg-orange-700 text-white hover:cursor-pointer font-bold py-4 px-8 rounded-lg text-lg transition-all hover:scale-105 shadow-lg mx-auto md:mx-0 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-2"
                            type="submit"
                            id="submitBtn"
                        >
                            <span id="btnText">Enviar</span>
                            <span
                                id="btnLoading"
                                class="hidden flex items-center gap-2"
                            >
                                <svg
                                    class="animate-spin h-5 w-5"
                                    xmlns="http://www.w3.org/2000/svg"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                >
                                    <circle
                                        class="opacity-25"
                                        cx="12"
                                        cy="12"
                                        r="10"
                                        stroke="currentColor"
                                        stroke-width="4"></circle>
                                    <path
                                        class="opacity-75"
                                        fill="currentColor"
                                        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                                    ></path>
                                </svg>
                                Enviando...
                            </span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    const form = document.getElementById("contactForm") as HTMLFormElement;
    const submitBtn = document.getElementById("submitBtn") as HTMLButtonElement;
    const btnText = document.getElementById("btnText") as HTMLSpanElement;
    const btnLoading = document.getElementById("btnLoading") as HTMLSpanElement;
    const successMessage = document.getElementById(
        "success-message",
    ) as HTMLDivElement;
    const errorMessage = document.getElementById(
        "error-message",
    ) as HTMLDivElement;

    form.addEventListener("submit", async (e) => {
        e.preventDefault();

        successMessage.classList.add("hidden");
        errorMessage.classList.add("hidden");

        submitBtn.disabled = true;
        btnText.classList.add("hidden");
        btnLoading.classList.remove("hidden");

        try {
            const formData = new FormData(form);

            const response = await fetch("https://api.web3forms.com/submit", {
                method: "POST",
                body: formData,
            });

            const data = await response.json();

            if (data.success) {
                successMessage.classList.remove("hidden");
                form.reset();
                successMessage.scrollIntoView({
                    behavior: "smooth",
                    block: "center",
                });
            } else {
                errorMessage.classList.remove("hidden");
            }
        } catch (error) {
            console.error("Error:", error);
            errorMessage.classList.remove("hidden");
        } finally {
            submitBtn.disabled = false;
            btnText.classList.remove("hidden");
            btnLoading.classList.add("hidden");
        }
    });
</script>
